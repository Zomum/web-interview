(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{372:function(t,a,e){"use strict";e.r(a);var s=e(42),n=Object(s.a)({},(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("p",[e("a",{attrs:{href:"https://juejin.im/post/5c6cffde6fb9a049d975c8c1",target:"_blank",rel:"noopener noreferrer"}},[t._v("原文：webpack面试题"),e("OutboundLink")],1)]),t._v(" "),e("h4",{attrs:{id:"谈谈你对webpack的看法"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#谈谈你对webpack的看法"}},[t._v("#")]),t._v(" 谈谈你对webpack的看法")]),t._v(" "),e("p",[t._v("webpack是一个模块打包工具，可以使用它管理项目中的模块依赖，并编译输出模块所需的静态文件。它可以很好地管理、打包开发中所用到的HTML,CSS,JavaScript和静态文件（图片，字体）等，让开发更高效。对于不同类型的依赖，webpack有对应的模块加载器，而且会分析模块间的依赖关系，最后合并生成优化的静态资源。")]),t._v(" "),e("h4",{attrs:{id:"webpack的基本功能和工作原理？"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#webpack的基本功能和工作原理？"}},[t._v("#")]),t._v(" webpack的基本功能和工作原理？")]),t._v(" "),e("ul",[e("li",[t._v("代码转换：TypeScript 编译成 JavaScript、SCSS 编译成 CSS 等等")]),t._v(" "),e("li",[t._v("文件优化：压缩 JavaScript、CSS、HTML 代码，压缩合并图片等")]),t._v(" "),e("li",[t._v("代码分割：提取多个页面的公共代码、提取首屏不需要执行部分的代码让其异步加载")]),t._v(" "),e("li",[t._v("模块合并：在采用模块化的项目有很多模块和文件，需要构建功能把模块分类合并成一个文件")]),t._v(" "),e("li",[t._v("自动刷新：监听本地源代码的变化，自动构建，刷新浏览器")]),t._v(" "),e("li",[t._v("代码校验：在代码被提交到仓库前需要检测代码是否符合规范，以及单元测试是否通过")]),t._v(" "),e("li",[t._v("自动发布：更新完代码后，自动构建出线上发布代码并传输给发布系统。")])]),t._v(" "),e("h3",{attrs:{id:""}},[e("a",{staticClass:"header-anchor",attrs:{href:"#"}},[t._v("#")])]),t._v(" "),e("h4",{attrs:{id:"webpack构建过程"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#webpack构建过程"}},[t._v("#")]),t._v(" webpack构建过程")]),t._v(" "),e("ul",[e("li",[t._v("从entry里配置的module开始递归解析entry依赖的所有module")]),t._v(" "),e("li",[t._v("每找到一个module，就会根据配置的loader去找对应的转换规则")]),t._v(" "),e("li",[t._v("对module进行转换后，再解析出当前module依赖的module")]),t._v(" "),e("li",[t._v("这些模块会以entry为单位分组，一个entry和其所有依赖的module被分到一个组Chunk")]),t._v(" "),e("li",[t._v("最后webpack会把所有Chunk转换成文件输出")]),t._v(" "),e("li",[t._v("在整个流程中webpack会在恰当的时机执行plugin里定义的逻辑")])]),t._v(" "),e("h4",{attrs:{id:"webpack打包原理"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#webpack打包原理"}},[t._v("#")]),t._v(" webpack打包原理")]),t._v(" "),e("p",[t._v("将所有依赖打包成一个bundle.js，通过代码分割成单元片段按需加载")]),t._v(" "),e("h4",{attrs:{id:"什么是webpack，与gulp-grunt有什么区别"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#什么是webpack，与gulp-grunt有什么区别"}},[t._v("#")]),t._v(" 什么是webpack，与gulp,grunt有什么区别")]),t._v(" "),e("ul",[e("li",[t._v("webpack是一个模块打包工具，可以递归地打包项目中的所有模块，最终生成几个打包后的文件。")]),t._v(" "),e("li",[t._v("区别：webpack支持代码分割，模块化（AMD,CommonJ,ES2015），全局分析")])]),t._v(" "),e("h4",{attrs:{id:"什么是entry-output"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#什么是entry-output"}},[t._v("#")]),t._v(" 什么是entry,output?")]),t._v(" "),e("ul",[e("li",[t._v("entry 入口，告诉webpack要使用哪个模块作为构建项目的起点，默认为./src/index.js")]),t._v(" "),e("li",[t._v("output 出口，告诉webpack在哪里输出它打包好的代码以及如何命名，默认为./dist")])]),t._v(" "),e("h4",{attrs:{id:"什么是loader，plugins"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#什么是loader，plugins"}},[t._v("#")]),t._v(" 什么是loader，plugins?")]),t._v(" "),e("ul",[e("li",[t._v("loader是用来告诉webpack如何转换某一类型的文件，并且引入到打包出的文件中。")]),t._v(" "),e("li",[t._v("plugins(插件)作用更大，可以打包优化，资源管理和注入环境变量")])]),t._v(" "),e("h4",{attrs:{id:"什么是bundle-chunk-module"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#什么是bundle-chunk-module"}},[t._v("#")]),t._v(" 什么是bundle,chunk,module?")]),t._v(" "),e("p",[t._v("bundle是webpack打包出来的文件，chunk是webpack在进行模块的依赖分析的时候，代码分割出来的代码块。module是开发中的单个模块")]),t._v(" "),e("h4",{attrs:{id:"如何自动生成webpack配置？"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#如何自动生成webpack配置？"}},[t._v("#")]),t._v(" 如何自动生成webpack配置？")]),t._v(" "),e("p",[t._v("可以用一些官方脚手架")]),t._v(" "),e("ul",[e("li",[t._v("webpack-cli")]),t._v(" "),e("li",[t._v("vue-cli")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("// 首先安装\nnpm install -g @vue/cli\n// 新建项目hello\nvue create hello\n")])])]),e("ul",[e("li",[t._v("nuxt-cli")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("// 确保安装了npx,npx在npm5.2.0默认安装了\n// 新建项目hello\nnpx create-nuxt-app hello\n")])])]),e("h4",{attrs:{id:"webpack如何配置单页面和多页面的应用程序？"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#webpack如何配置单页面和多页面的应用程序？"}},[t._v("#")]),t._v(" webpack如何配置单页面和多页面的应用程序？")]),t._v(" "),e("ul",[e("li",[t._v("单个页面")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("module.exports = {\n    entry: './path/to/my/entry/file.js'\n}\n")])])]),e("ul",[e("li",[t._v("多页面应用程序")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("module.entrys = {\n    entry: {\n        pageOne: './src/pageOne/index.js',\n        pageTwo: './src/pageTwo/index.js'\n    }\n}\n")])])]),e("h4",{attrs:{id:"webpack-dev-server和http服务器如nginx有什么区别？"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#webpack-dev-server和http服务器如nginx有什么区别？"}},[t._v("#")]),t._v(" webpack-dev-server和http服务器如nginx有什么区别？")]),t._v(" "),e("p",[t._v("webpack-dev-server使用内存来存储webpack开发环境下的打包文件，并且可以使用模块热更新，相比传统http服务器开发更加简单高效")]),t._v(" "),e("h4",{attrs:{id:"什么是模块热更新？"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#什么是模块热更新？"}},[t._v("#")]),t._v(" 什么是模块热更新？")]),t._v(" "),e("p",[t._v("webpack的一个功能，可以使代码修改后不用刷新浏览器就自动更新，高级版的自动刷新浏览器")]),t._v(" "),e("h4",{attrs:{id:"dev-server是怎么跑起来的"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#dev-server是怎么跑起来的"}},[t._v("#")]),t._v(" dev-server是怎么跑起来的")]),t._v(" "),e("p",[t._v("webpack-dev-server支持两种模式来自动刷新页面")]),t._v(" "),e("ul",[e("li",[t._v("iframe模式（页面放在iframe中，当发送改变时重载） 无需额外配置，只要以这种格式url访问即可。"),e("code",[t._v("http://localhost:8080/webpack-dev-server/index.html")])]),t._v(" "),e("li",[t._v("inline模式（将webpack-dev-server的客户端入口添加到bundle中） inline模式下url不用发生变化，但启动inline模式分两种情况")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('// 以命令行启动webpack-dev-server有两种方式\n// 方式1 在命令行中添加--inline命令\n// 方式2 在webpack-config.js添加devServer:{inline: true}\n// 以node.js API启动有两种方式\n// 方式1 添加webpack-dev-server/client?http://localhost:8080/到webpack配置的entry入口点\nconfig.entry.app.unshift("webpack-dev-server/client?http://localhost:8080/");\n// 将<script src="http://localhost:8080/webpack-dev-server.js"><\/script>添加到html文件中\n')])])]),e("h4",{attrs:{id:"使用过webpack里面哪些plugin和loader"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#使用过webpack里面哪些plugin和loader"}},[t._v("#")]),t._v(" 使用过webpack里面哪些plugin和loader")]),t._v(" "),e("p",[e("strong",[t._v("loader")])]),t._v(" "),e("ul",[e("li",[t._v("babel-loader: 将ES6+转移成ES5-")]),t._v(" "),e("li",[t._v("css-loader,style-loader：解析css文件，能够解释@import url()等")]),t._v(" "),e("li",[t._v("px2rem-loader: 将px转rem "),e("a",{attrs:{href:"https://github.com/songsiqi/px2rem",target:"_blank",rel:"noopener noreferrer"}},[t._v("原文"),e("OutboundLink")],1)]),t._v(" "),e("li",[t._v("file-loader：直接输出文件，把构建后的文件路径返回，可以处理很多类型的文件")]),t._v(" "),e("li",[t._v("url-loader：打包图片")])]),t._v(" "),e("div",{staticClass:"language-json extra-class"},[e("pre",{pre:!0,attrs:{class:"language-json"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// url-loader增强版的file-loader，小于limit的转为Base64,大于limit的调用file-loader")]),t._v("\nnpm install url-loader -D\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 使用")]),t._v("\nmodule.exports = "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    module"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        rules"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            test"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" /\\.(png|jpg|gif)$/"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            use"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                loader"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" 'url-loader'"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                options"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                    outputPath"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" 'images/'"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                    limit"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("500")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//小于500B的文件打包出Base64格式，写入JS")]),t._v("\n                "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n            "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("p",[e("strong",[t._v("plugins")])]),t._v(" "),e("ul",[e("li",[t._v("html-webpack-plugin: 压缩html")])]),t._v(" "),e("div",{staticClass:"language-json extra-class"},[e("pre",{pre:!0,attrs:{class:"language-json"}},[e("code",[t._v("const HtmlWebpackPlugin = require('html-webpack-plugin')\nmodule.exports = "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//...")]),t._v("\n  plugins"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    new HtmlWebpackPlugin("),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      filename"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" 'index.html'"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 配置输出文件名和路径")]),t._v("\n      template"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" './public/index.html'"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 配置要被编译的html文件")]),t._v("\n      hash"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 压缩 => production 模式使用")]),t._v("\n      minify"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        removeAttributeQuotes"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//删除双引号")]),t._v("\n        collapseWhitespace"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//折叠 html 为一行")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(")\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n复制代码\n")])])]),e("ul",[e("li",[t._v("clean-webpack-plugin: 打包器清理源目录文件，在webpack打包器清理dist目录")])]),t._v(" "),e("div",{staticClass:"language-json extra-class"},[e("pre",{pre:!0,attrs:{class:"language-json"}},[e("code",[t._v("npm install clean-webpack-plugin -D\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 修改webpack.config.js")]),t._v("\nconst cleanWebpackPlugin=require('clean-webpack-plugin')\nmodule.exports = "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    plugins"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("new cleanWebpackPlugin("),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("'dist'"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(")"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("h4",{attrs:{id:"webpack中babel的实现"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#webpack中babel的实现"}},[t._v("#")]),t._v(" webpack中babel的实现")]),t._v(" "),e("p",[t._v("安装 "),e("code",[t._v("npm i -D @babel-preset-env @babel-core babel-loader")])]),t._v(" "),e("ul",[e("li",[t._v("@babel-preset-env：可以让我们灵活设置代码目标执行环境")]),t._v(" "),e("li",[t._v("@babel-core: babel核心库")]),t._v(" "),e("li",[t._v("babel-loader: webpack的babel插件，让我们可以在webpack中运行babel")])]),t._v(" "),e("p",[t._v("配置.babelrc")]),t._v(" "),e("div",{staticClass:"language-json extra-class"},[e("pre",{pre:!0,attrs:{class:"language-json"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"presets"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("'@babel/preset-env'"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("p",[t._v("配置webpack.config.js")]),t._v(" "),e("div",{staticClass:"language-json extra-class"},[e("pre",{pre:!0,attrs:{class:"language-json"}},[e("code",[t._v("module.exports = "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    entry"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" './src/index.js'"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    output"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        path"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" path.resolve(__dirname"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" 'dist')"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        filename"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" 'bundle.js'\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    module"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        rules"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            test"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" /\\.js$/"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            exclude"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" /node_modules/"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            use"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("loader"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" 'babel-loader'"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("h4",{attrs:{id:"提取公用代码"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#提取公用代码"}},[t._v("#")]),t._v(" 提取公用代码")]),t._v(" "),e("div",{staticClass:"language-json extra-class"},[e("pre",{pre:!0,attrs:{class:"language-json"}},[e("code",[t._v("module.exports = "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    optimization"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        splitChunks"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            common"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 抽离公共代码")]),t._v("\n                chunks"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" 'initial'"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                name"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" 'common'"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 打包后的文件名")]),t._v("\n                minChunks"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 最小引用2次")]),t._v("\n                minSize"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 超出0字节就生成一个新包")]),t._v("\n            "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            styles"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 抽离公用代码")]),t._v("\n                name"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" 'styles'"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                test"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" /\\.css$/"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                chunks"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" 'all'"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                minChunks"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                enforce"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n            "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            vender"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 抽离第三方插件")]),t._v("\n                test"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" /node_modules/"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                chunks"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" 'initial'"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                name"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" 'vendor'"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 打包后的文件名")]),t._v("\n                priority"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 设置优先级，防止与自定义公共代码提取时被覆盖，不进行打包")]),t._v("\n            "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("h4",{attrs:{id:"什么是长缓存？在webpack中如何做到长缓存优化？"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#什么是长缓存？在webpack中如何做到长缓存优化？"}},[t._v("#")]),t._v(" 什么是长缓存？在webpack中如何做到长缓存优化？")]),t._v(" "),e("ul",[e("li",[t._v("浏览器在用户访问页面的时候，为了加快加载速度会对用户访问的静态资源进行存储，但是每一次代码升级或更新都需要浏览器下载新的代码，最简单方便的方式就是引入新的文件名称。")]),t._v(" "),e("li",[t._v("webpack中可以在output中指定chunkhash，并且分离经常更新的代码和框架代码。通过NameModulesPlugin或HashedModuleIdsPlugin使再次打包文件名不变。")])]),t._v(" "),e("h4",{attrs:{id:"什么是tree-shaking？css可以tree-shaking？"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#什么是tree-shaking？css可以tree-shaking？"}},[t._v("#")]),t._v(" 什么是Tree-shaking？CSS可以Tree-shaking？")]),t._v(" "),e("p",[t._v("Tree-shaking是指在打包中取出那些引入了但在代码中没有被用到的死代码。webpack中通过uglifysPlugin来Tree-shaking JS。CSS需要使用purify-CSS")]),t._v(" "),e("h4",{attrs:{id:"webpack打包优化-参考"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#webpack打包优化-参考"}},[t._v("#")]),t._v(" webpack打包优化  "),e("a",{attrs:{href:"https://juejin.im/post/5ddc8a6be51d4523275838db",target:"_blank",rel:"noopener noreferrer"}},[t._v("参考"),e("OutboundLink")],1)]),t._v(" "),e("ol",[e("li",[t._v("比较实用的方法: 按需加载，优化loader配置，关闭生产环境的sourceMap，CDN优化。")]),t._v(" "),e("li",[t._v("vue-cli已做的优化： 代码压缩，提取公共代码，再优化空间不大。")]),t._v(" "),e("li",[t._v("根据项目实际需要和自身开发水平选择优化方法，必须避免因为优化产生bug。")]),t._v(" "),e("li",[t._v("vue、react过大，需要设置gzip(请求中做、服务端也要做)，按需加载")])]),t._v(" "),e("h4",{attrs:{id:"分模块打包"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#分模块打包"}},[t._v("#")]),t._v(" 分模块打包")]),t._v(" "),e("p",[e("a",{attrs:{href:"https://segmentfault.com/a/1190000012828879?utm_source=tag-newest",target:"_blank",rel:"noopener noreferrer"}},[t._v("详解CommonsChunkPlugin的配置和用法"),e("OutboundLink")],1)]),t._v(" "),e("p",[e("a",{attrs:{href:"https://juejin.im/post/5cb58fb6f265da03452bd070#heading-10",target:"_blank",rel:"noopener noreferrer"}},[t._v("SplitChunksPlugin 部分"),e("OutboundLink")],1)]),t._v(" "),e("blockquote",[e("p",[t._v("webpack4.x的分离代码方法，之前的CommonsChunkPlugin插件已被移除。")])]),t._v(" "),e("h4",{attrs:{id:"loader顺序问题"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#loader顺序问题"}},[t._v("#")]),t._v(" loader顺序问题")]),t._v(" "),e("p",[t._v("loader执行顺序；顺序能更改么")]),t._v(" "),e("p",[e("a",{attrs:{href:"https://www.jianshu.com/p/5d91f44358db",target:"_blank",rel:"noopener noreferrer"}},[t._v("关于webpack loader的加载顺序"),e("OutboundLink")],1)]),t._v(" "),e("p",[e("a",{attrs:{href:"https://blog.csdn.net/qq_37109325/article/details/80169289",target:"_blank",rel:"noopener noreferrer"}},[t._v("webpack之loader加载顺序为啥从右往左"),e("OutboundLink")],1)]),t._v(" "),e("h4",{attrs:{id:"devtool"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#devtool"}},[t._v("#")]),t._v(" devtool")]),t._v(" "),e("p",[e("a",{attrs:{href:"https://www.jianshu.com/p/62dc120d96d0",target:"_blank",rel:"noopener noreferrer"}},[t._v("webpack devtool篇"),e("OutboundLink")],1)]),t._v(" "),e("hr"),t._v(" "),e("p",[e("a",{attrs:{href:"https://juejin.im/post/5e116fce6fb9a047ea7472a6?utm_source=gold_browser_extension",target:"_blank",rel:"noopener noreferrer"}},[t._v("webpack打包原理 ? 看完这篇你就懂了 !"),e("OutboundLink")],1)]),t._v(" "),e("p",[e("a",{attrs:{href:"https://juejin.im/post/5cede821f265da1bbd4b5630#heading-20",target:"_blank",rel:"noopener noreferrer"}},[t._v("面试必备！webpack 中那些最易混淆的 5 个知识点"),e("OutboundLink")],1)]),t._v(" "),e("p",[e("a",{attrs:{href:"https://juejin.im/post/5d8b755fe51d45781332e919?utm_source=gold_browser_extension",target:"_blank",rel:"noopener noreferrer"}},[t._v("看完这篇，面试再也不怕被问 Webpack 热更新"),e("OutboundLink")],1)]),t._v(" "),e("hr")])}),[],!1,null,null,null);a.default=n.exports}}]);